{"version":3,"sources":["webpack:///./src/views/Home.vue?bc03","webpack:///./src/views/Home.vue?f012","webpack:///./src/utils/utils.js","webpack:///./src/data/addressList.js","webpack:///src/views/Home.vue","webpack:///./src/views/Home.vue?493c","webpack:///./src/views/Home.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","city","on","comingsoon","model","value","callback","$$v","showPicker","expression","list","$event","onConfirm","toggleMovie","activeName","_l","item","index","key","title","type","style","picNum","i","s","cover","movieDetail","id","images","small","_v","_s","year","countries","a","b","c","o","name","wish_count","summary","staticRenderFns","Utils","transformRequest","paramsString","getCookies","keys","t","cookies","forEach","v","$cookies","get","getToken","tokenString","push","join","formatDate","format","getFullYear","toString","test","RegExp","$1","replace","slice","length","M","getMonth","d","getDate","h","getHours","m","getMinutes","getSeconds","k","r","c1","content","isSearch","adressvalue","addressList","isactive","phone","$route","params","localStorage","setItem","JSON","stringify","$store","commit","menuIsloaded","data","url","output","$jsonp","computed","state","methods","$toast","forbidClick","duration","message","cityValue","substr","go","loading","axios","method","apikey","$router","component"],"mappings":"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CA,MACA,MACA,QACA,QACA,QACA,QACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,OACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,OACA,QACA,MACA,MACA,OACA,MACA,MACA,OACA,OACA,OACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,OACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,OACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,OACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,OACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,OACA,MACA,MACA,MACA,MACA,OACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,OACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,OACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,OACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,OACA,MACA,MACA,MACA,MAEA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MAEA,MACA,OACA,MACA,MACA,MACA,MACA,MACA,MACA,MA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","file":"js/chunk-1674d01c.e6538eb6.js","sourcesContent":["import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=style&index=0&id=63da657f&lang=less&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=style&index=0&id=63da657f&lang=less&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"home\"},[_c('div',{staticClass:\"box\"},[_c('div',{staticClass:\"header-box\"},[_c('div',{staticClass:\"header clearfix\"},[_c('div',{staticClass:\"search fl\"},[_c('van-field',{attrs:{\"readonly\":\"\",\"clickable\":\"\",\"label\":\"当前城市:\",\"value\":_vm.city,\"placeholder\":\"选择城市\"},on:{\"click\":_vm.comingsoon}}),_c('van-popup',{attrs:{\"round\":\"\",\"position\":\"bottom\"},model:{value:(_vm.showPicker),callback:function ($$v) {_vm.showPicker=$$v},expression:\"showPicker\"}},[_c('van-picker',{attrs:{\"show-toolbar\":\"\",\"columns\":_vm.list},on:{\"cancel\":function($event){_vm.showPicker = false},\"confirm\":_vm.onConfirm}})],1)],1)]),_c('div',{staticClass:\"type\"},[_c('van-tabs',{attrs:{\"line-width\":\"56\",\"title-active-color\":\"#1a1a1a\"},on:{\"click\":_vm.toggleMovie},model:{value:(_vm.activeName),callback:function ($$v) {_vm.activeName=$$v},expression:\"activeName\"}},_vm._l((_vm.tabdata),function(item,index){return _c('van-tab',{key:index,attrs:{\"title\":item.title,\"name\":item.type}})}),1)],1)]),_c('div',{staticClass:\"movie\"},_vm._l((_vm.movieData),function(item,index){return _c('div',{key:index,staticClass:\"movie-box\"},[_c('div',{staticClass:\"banner clearfix\"},[_c('div',{staticClass:\"banner-box\",style:('width:' + item.picNum * 130 + 'px')},_vm._l((item.photos),function(i,s){return _c('van-image',{key:s,staticClass:\"fl banner-img\",attrs:{\"width\":\"120\",\"height\":\"100\",\"src\":i.cover}})}),1)]),_c('div',{staticClass:\"movie-top\"},[_c('div',{staticClass:\"movie-top-left clearfix\"},[_c('div',{staticClass:\"movie-img fl\"},[_c('div',{staticClass:\"movie-pic\",on:{\"click\":function($event){return _vm.movieDetail(item.id)}}},[_c('img',{staticClass:\"auto-img movie-pic-img\",attrs:{\"src\":item.images.small,\"alt\":\"\"}})])]),_c('div',{staticClass:\"movie-info fl\"},[_c('div',{staticClass:\"movie-name\"},[_c('span',[_vm._v(_vm._s(item.title))])]),_c('div',{staticClass:\"tag-avatar clearfix\"},[_c('div',[_c('span',[_vm._v(_vm._s(item.year + ' / '))]),_c('span',[_vm._v(_vm._s(item.countries + ' / '))]),_vm._l((item.genres),function(a,b){return _c('span',{key:b},[_vm._v(_vm._s(a + ' '))])})],2),_c('div',_vm._l((item.directors),function(c,o){return _c('span',{key:o},[_vm._v(_vm._s(c.name + ' '))])}),0),_c('div',_vm._l((item.casts),function(i,s){return _c('span',{key:s},[_vm._v(_vm._s(i.name + ' '))])}),0)]),_c('div',{staticClass:\"look\"},[_c('span',[_vm._v(_vm._s(item.wish_count)+\"人想看\")])])]),_c('div',{staticClass:\"movie-top-right\"})])]),_c('div',{staticClass:\"movie-bottom\"},[_c('span',{staticClass:\"movie-bottom-txt\"},[_vm._v(_vm._s(item.summary))])])])}),0)])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","//公共方法\r\nclass Utils {\r\n\r\n  //将对象进行序列化\r\n  transformRequest(o) {\r\n    let paramsString = '';\r\n    for (let key in o) {\r\n      paramsString += key + '=' + o[key] + '&';\r\n    }\r\n\r\n    return paramsString;\r\n  }\r\n\r\n  //获取cookies\r\n  getCookies(keys, t) {\r\n    let cookies = {};\r\n    keys.forEach(v => {\r\n      cookies[v] = t.$cookies.get(v);\r\n    })\r\n\r\n    return cookies;\r\n  }\r\n\r\n  //获取token\r\n  getToken(t) {\r\n    let keys = ['t0', 't1', 't2'];\r\n    let tokenString = [];\r\n    keys.forEach(v => {\r\n      tokenString.push(t.$cookies.get(v));\r\n    })\r\n\r\n    return tokenString.join('.');\r\n  }\r\n\r\n\r\n\r\n\r\n  //格式化日期\r\n  formatDate(v, format) {\r\n    //2020+03-09 01:20:12\r\n    //format: yyyy+MM-dd h:mm:s\r\n\r\n    //获取年份\r\n    let year = v.getFullYear().toString();\r\n\r\n    if (/(y+)/.test(format)) {\r\n\r\n      //获取匹配的内容\r\n      let c = RegExp.$1;\r\n\r\n      format = format.replace(c, year.slice(year.length - c.length));\r\n    }\r\n\r\n    // \r\n\r\n    //构造对象\r\n    let o = {\r\n      M: v.getMonth() + 1,\r\n      d: v.getDate(),\r\n      h: v.getHours(),\r\n      m: v.getMinutes(),\r\n      s: v.getSeconds()\r\n    };\r\n\r\n    // \r\n\r\n    for (let k in o) {\r\n      //使用动态正则\r\n      let r = new RegExp(`(${k}{1,2})`);\r\n      // \r\n\r\n      if (r.test(format)) {\r\n        //获取组内容\r\n        let c1 = RegExp.$1;\r\n        // \r\n\r\n        //控制不足十补零\r\n        let content = (o[k] >= 10 || c1.length == 1) ? o[k] : '0' + o[k];\r\n\r\n        format = format.replace(c1, content);\r\n\r\n        // \r\n      }\r\n\r\n    }\r\n\r\n    return format;\r\n\r\n  }\r\n\r\n\r\n}\r\n\r\nexport const utils = new Utils();\r\n","export default [\r\n    '北京市',\r\n    '天津市',\r\n    '石家庄市',\r\n    '唐山市',\r\n    '秦皇岛市',\r\n    '邯郸市',\r\n    '邢台市',\r\n    '保定市',\r\n    '张家口市',\r\n    '承德市',\r\n    '沧州市',\r\n    '廊坊市',\r\n    '衡水市',\r\n    '太原市',\r\n    '大同市',\r\n    '阳泉市',\r\n    '长治市',\r\n    '晋城市',\r\n    '朔州市',\r\n    '晋中市',\r\n    '运城市',\r\n    '忻州市',\r\n    '临汾市',\r\n    '吕梁市',\r\n    '呼和浩特市',\r\n    '包头市',\r\n    '乌海市',\r\n    '赤峰市',\r\n    '通辽市',\r\n    '鄂尔多斯市',\r\n    '呼伦贝尔市',\r\n    '巴彦淖尔市',\r\n    '乌兰察布市',\r\n    '沈阳市',\r\n    '大连市',\r\n    '鞍山市',\r\n    '抚顺市',\r\n    '本溪市',\r\n    '丹东市',\r\n    '锦州市',\r\n    '营口市',\r\n    '阜新市',\r\n    '辽阳市',\r\n    '盘锦市',\r\n    '铁岭市',\r\n    '朝阳市',\r\n    '葫芦岛市',\r\n    '长春市',\r\n    '吉林市',\r\n    '四平市',\r\n    '辽源市',\r\n    '通化市',\r\n    '白山市',\r\n    '松原市',\r\n    '白城市',\r\n    '哈尔滨市',\r\n    '齐齐哈尔市',\r\n    '鸡西市',\r\n    '鹤岗市',\r\n    '双鸭山市',\r\n    '大庆市',\r\n    '伊春市',\r\n    '佳木斯市',\r\n    '七台河市',\r\n    '牡丹江市',\r\n    '黑河市',\r\n    '绥化市',\r\n    '上海市',\r\n    '南京市',\r\n    '无锡市',\r\n    '徐州市',\r\n    '常州市',\r\n    '苏州市',\r\n    '南通市',\r\n    '连云港市',\r\n    '淮安市',\r\n    '盐城市',\r\n    '扬州市',\r\n    '镇江市',\r\n    '泰州市',\r\n    '宿迁市',\r\n    '杭州市',\r\n    '宁波市',\r\n    '温州市',\r\n    '嘉兴市',\r\n    '湖州市',\r\n    '绍兴市',\r\n    '金华市',\r\n    '衢州市',\r\n    '舟山市',\r\n    '台州市',\r\n    '丽水市',\r\n    '合肥市',\r\n    '芜湖市',\r\n    '蚌埠市',\r\n    '淮南市',\r\n    '马鞍山市',\r\n    '淮北市',\r\n    '铜陵市',\r\n    '安庆市',\r\n    '黄山市',\r\n    '滁州市',\r\n    '阜阳市',\r\n    '宿州市',\r\n    '六安市',\r\n    '亳州市',\r\n    '池州市',\r\n    '宣城市',\r\n    '福州市',\r\n    '厦门市',\r\n    '莆田市',\r\n    '三明市',\r\n    '泉州市',\r\n    '漳州市',\r\n    '南平市',\r\n    '龙岩市',\r\n    '宁德市',\r\n    '南昌市',\r\n    '景德镇市',\r\n    '萍乡市',\r\n    '九江市',\r\n    '新余市',\r\n    '鹰潭市',\r\n    '赣州市',\r\n    '吉安市',\r\n    '宜春市',\r\n    '抚州市',\r\n    '上饶市',\r\n    '济南市',\r\n    '青岛市',\r\n    '淄博市',\r\n    '枣庄市',\r\n    '东营市',\r\n    '烟台市',\r\n    '潍坊市',\r\n    '济宁市',\r\n    '泰安市',\r\n    '威海市',\r\n    '日照市',\r\n    '临沂市',\r\n    '德州市',\r\n    '聊城市',\r\n    '滨州市',\r\n    '菏泽市',\r\n    '郑州市',\r\n    '开封市',\r\n    '洛阳市',\r\n    '平顶山市',\r\n    '安阳市',\r\n    '鹤壁市',\r\n    '新乡市',\r\n    '焦作市',\r\n    '濮阳市',\r\n    '许昌市',\r\n    '漯河市',\r\n    '三门峡市',\r\n    '南阳市',\r\n    '商丘市',\r\n    '信阳市',\r\n    '周口市',\r\n    '驻马店市',\r\n    '武汉市',\r\n    '黄石市',\r\n    '十堰市',\r\n    '宜昌市',\r\n    '襄阳市',\r\n    '鄂州市',\r\n    '荆门市',\r\n    '孝感市',\r\n    '荆州市',\r\n    '黄冈市',\r\n    '咸宁市',\r\n    '随州市',\r\n    '长沙市',\r\n    '株洲市',\r\n    '湘潭市',\r\n    '衡阳市',\r\n    '邵阳市',\r\n    '岳阳市',\r\n    '常德市',\r\n    '张家界市',\r\n    '益阳市',\r\n    '郴州市',\r\n    '永州市',\r\n    '怀化市',\r\n    '娄底市',\r\n    '广州市',\r\n    '韶关市',\r\n    '深圳市',\r\n    '珠海市',\r\n    '汕头市',\r\n    '佛山市',\r\n    '江门市',\r\n    '湛江市',\r\n    '茂名市',\r\n    '肇庆市',\r\n    '惠州市',\r\n    '梅州市',\r\n    '汕尾市',\r\n    '河源市',\r\n    '阳江市',\r\n    '清远市',\r\n    '东莞市',\r\n    '中山市',\r\n    '潮州市',\r\n    '揭阳市',\r\n    '云浮市',\r\n    '南宁市',\r\n    '柳州市',\r\n    '桂林市',\r\n    '梧州市',\r\n    '北海市',\r\n    '防城港市',\r\n    '钦州市',\r\n    '贵港市',\r\n    '玉林市',\r\n    '百色市',\r\n    '贺州市',\r\n    '河池市',\r\n    '来宾市',\r\n    '崇左市',\r\n    '海口市',\r\n    '三亚市',\r\n    '三沙市',\r\n    '儋州市',\r\n    '重庆市',\r\n    '成都市',\r\n    '自贡市',\r\n    '攀枝花市',\r\n    '泸州市',\r\n    '德阳市',\r\n    '绵阳市',\r\n    '广元市',\r\n    '遂宁市',\r\n    '内江市',\r\n    '乐山市',\r\n    '南充市',\r\n    '眉山市',\r\n    '宜宾市',\r\n    '广安市',\r\n    '达州市',\r\n    '雅安市',\r\n    '巴中市',\r\n    '资阳市',\r\n    '贵阳市',\r\n    '六盘水市',\r\n    '遵义市',\r\n    '安顺市',\r\n    '毕节市',\r\n    '铜仁市',\r\n\r\n    '昆明市',\r\n    '曲靖市',\r\n    '玉溪市',\r\n    '保山市',\r\n    '昭通市',\r\n    '丽江市',\r\n    '普洱市',\r\n    '临沧市',\r\n\r\n    '拉萨市',\r\n    '日喀则市',\r\n    '昌都市',\r\n    '林芝市',\r\n    '山南市',\r\n    '那曲市',\r\n    '西安市',\r\n    '铜川市',\r\n    '宝鸡市',\r\n    '咸阳市',\r\n    '渭南市',\r\n    '延安市',\r\n    '汉中市',\r\n    '榆林市',\r\n    '安康市',\r\n    '商洛市',\r\n    '兰州市',\r\n    '嘉峪关市',\r\n    '金昌市',\r\n    '白银市',\r\n    '天水市',\r\n    '武威市',\r\n    '张掖市',\r\n    '平凉市',\r\n    '酒泉市',\r\n    '庆阳市',\r\n    '定西市',\r\n    '陇南市',\r\n\r\n    '西宁市',\r\n    '海东市',\r\n\r\n    '银川市',\r\n    '石嘴山市',\r\n    '吴忠市',\r\n    '固原市',\r\n    '中卫市',\r\n    '台北市',\r\n    '高雄市',\r\n    '台南市',\r\n    '台中市',\r\n    '基隆市',\r\n    '新竹市',\r\n    '嘉义市',\r\n    '新北市'\r\n  ]\r\n","<template>\n  <div class=\"home\">\n    <div class=\"box\">\n      <!-- 头部城市定位 -->\n      <div class=\"header-box\">\n        <div class=\"header clearfix\">\n          <div class=\"search fl\">\n            <!-- <div class=\"search-life fl\"> -->\n            <!-- <input type=\"text\" placeholder=\"请输入城市搜索正在热映电影\" v-model=\"value\" />\n              <div class=\"search-right fr\" @click=\"search\">\n                <van-icon name=\"search\" size=\"23\" />\n            </div>-->\n\n            <!-- </div> -->\n            <van-field\n              readonly\n              clickable\n              label=\"当前城市:\"\n              :value=\"city\"\n              placeholder=\"选择城市\"\n              @click=\"comingsoon\"\n            />\n            <van-popup v-model=\"showPicker\" round position=\"bottom\">\n              <van-picker\n                show-toolbar\n                :columns=\"list\"\n                @cancel=\"showPicker = false\"\n                @confirm=\"onConfirm\"\n              />\n            </van-popup>\n          </div>\n        </div>\n\n        <div class=\"type\">\n          <van-tabs\n            v-model=\"activeName\"\n            line-width=\"56\"\n            title-active-color=\"#1a1a1a\"\n            @click=\"toggleMovie\"\n          >\n            <van-tab\n              :title=\"item.title\"\n              v-for=\"(item,index) in tabdata\"\n              :key=\"index\"\n              :name=\"item.type\"\n            ></van-tab>\n          </van-tabs>\n        </div>\n      </div>\n      <div class=\"movie\">\n        <!-- 电影 -->\n        <div class=\"movie-box\" v-for=\"(item,index) in movieData\" :key=\"index\">\n          <div class=\"banner clearfix\">\n            <div class=\"banner-box\" :style=\"'width:' + item.picNum * 130 + 'px' \">\n              <van-image\n                v-for=\"(i,s) in item.photos\"\n                :key=\"s\"\n                class=\"fl banner-img\"\n                width=\"120\"\n                height=\"100\"\n                :src=\"i.cover\"\n              />\n            </div>\n          </div>\n          <div class=\"movie-top\">\n            <div class=\"movie-top-left clearfix\">\n              <div class=\"movie-img fl\">\n                <div class=\"movie-pic\" @click=\"movieDetail(item.id)\">\n                  <img class=\"auto-img movie-pic-img\" :src=\"item.images.small\" alt />\n                </div>\n              </div>\n\n              <div class=\"movie-info fl\">\n                <div class=\"movie-name\">\n                  <span>{{item.title}}</span>\n                </div>\n                <div class=\"tag-avatar clearfix\">\n                  <div>\n                    <span>{{item.year + ' / '}}</span>\n                    <span>{{item.countries + ' / '}}</span>\n                    <span v-for=\"(a,b) in item.genres\" :key=\"b\">{{a + ' '}}</span>\n                  </div>\n\n                  <div>\n                    <span v-for=\"(c,o) in item.directors\" :key=\"o\">{{c.name + ' '}}</span>\n                  </div>\n                  <!--  -->\n                  <div>\n                    <span v-for=\"(i,s) in item.casts\" :key=\"s\">{{i.name + ' '}}</span>\n                  </div>\n                </div>\n                <div class=\"look\">\n                  <span>{{item.wish_count}}人想看</span>\n                </div>\n              </div>\n              <div class=\"movie-top-right\"></div>\n            </div>\n          </div>\n\n          <div class=\"movie-bottom\">\n            <span class=\"movie-bottom-txt\">{{item.summary}}</span>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { utils } from \"../utils/utils\";\n\n//导入辅助函数\nimport { mapState } from \"vuex\";\n\nimport addressList from \"../data/addressList\";\n\nexport default {\n  name: \"Home\",\n  data() {\n    return {\n      activeName: \"isHit\",\n      value: \"\",\n      isSearch: true,\n      adressvalue: \"\",\n      showPicker: false,\n      list: addressList\n    };\n  },\n\n  created() {\n    \n    if (this.isactive == \"isComing\") {\n      this.isSearch = false;\n    } else {\n      this.isSearch = true;\n    }\n    let phone = this.$route.params;\n    \n    localStorage.setItem(\"id\", JSON.stringify(phone));\n\n    this.$store.commit(\"changeData\", { key: \"id\", value: phone });\n\n    \n    if (this.menuIsloaded) {\n      this.activeName = this.isactive;\n      return;\n    }\n\n    let data = {\n      key: \"HDIBZ-WPK6P-6E4DC-LBR2F-MVADH-3LF6W\" //这个key就是你申请的密钥\n    };\n    let url = \"https://apis.map.qq.com/ws/location/v1/ip\"; //这个就是地理位置信息的接口\n    data.output = \"jsonp\";\n    this.$jsonp(url, data)\n      .then(res => {\n        // \n        if (res.status == 0) {\n          let city = res.result.ad_info.city.substr(\n            0,\n            res.result.ad_info.city.length - 1\n          );\n          this.$store.commit(\"homeModule/changeData\", {\n            key: \"city\",\n            value: city\n          });\n        }\n        //关闭加载提示\n        // this.$toast.clear();\n\n        let params = {\n          type: \"/in_theaters?\",\n          apikey: this.apikey,\n          city: this.city\n        };\n\n        this.go(params);\n      })\n      .catch(error => {\n        \n        //关闭加载提示\n        // this.$toast.clear();\n      });\n\n    this.$store.commit(\"changeData\", { key: \"menuIsloaded\", value: true });\n  },\n  computed: {\n    ...mapState(\"homeModule\", [\"tabdata\", \"city\", \"movieData\", \"isactive\"]),\n    menuIsloaded() {\n      return this.$store.state.menuIsloaded;\n    },\n    id() {\n      return this.$store.state.id;\n    }\n  },\n\n  methods: {\n    comingsoon() {\n      \n\n      if (!this.isSearch) {\n        this.$toast({\n          forbidClick: true,\n          duration: 2000,\n          message: \"暂不支持\"\n        });\n\n        return;\n      }\n\n      this.showPicker = true;\n    },\n\n    onConfirm(value) {\n      if (!this.isSearch) {\n        return;\n      }\n      let cityValue = value.substr(0, value.length - 1);\n      \n      this.$store.commit(\"homeModule/changeData\", {\n        key: \"city\",\n        value: cityValue\n      });\n\n      this.go({ type: \"/in_theaters?\", city: this.city, apikey: this.apikey });\n\n      this.showPicker = false;\n    },\n    go(params) {\n      this.$store.commit(\"homeModule/changeData\", {\n        key: \"movieData\",\n        value: []\n      });\n      // this.movieData = ;\n      //加载提示\n      this.$toast.loading({\n        forbidClick: true,\n        duration: 0,\n        message: \"数据加载中...\"\n      });\n      this.axios({\n        method: \"GET\",\n        url: \"/test\",\n        // params\n        params\n      })\n        .then(res => {\n          \n\n          // return;\n          let data = res.data.subjects;\n\n          // \n\n          let arr = [];\n\n          data.forEach((v, i) => {\n            let o = {};\n            this.axios({\n              method: \"GET\",\n              url: \"/test\",\n              params: {\n                type: \"/subject/\" + v.id + \"?\",\n\n                apikey: this.apikey\n              }\n            })\n              .then(res => {\n                (v.countries = res.data.countries),\n                  (v.wish_count = res.data.wish_count),\n                  (v.summary = res.data.summary),\n                  (v.photos = res.data.photos),\n                  (v.images = res.data.images),\n                  (v.title = res.data.title),\n                  (v.year = res.data.year),\n                  (v.directors = res.data.directors),\n                  (v.genres = res.data.genres),\n                  (v.casts = res.data.casts),\n                  (v.id = res.data.id),\n                  (v.picNum = res.data.photos.length);\n              })\n              .catch(err => {\n                \n              });\n          });\n          arr = arr.concat(data);\n          this.$store.commit(\"homeModule/changeData\", {\n            key: \"movieData\",\n            value: arr\n          });\n          // this.movieData = arr;\n          \n          //关闭加载提示\n          this.$toast.clear();\n        })\n        .catch(err => {\n          \n          //关闭加载提示\n          this.$toast.clear();\n        });\n    },\n\n    //搜索城市\n    search() {\n      if (this.value == \"\") {\n        //加载提示\n        this.$toast({\n          forbidClick: true,\n          duration: 3,\n          message: \"请输入内容\"\n        });\n        return;\n      }\n      let city = this.value;\n      if (this.isSearch) {\n        this.go({\n          type: \"/in_theaters?\",\n          apikey: this.apikey,\n          city: this.city\n        });\n        this.value = \"\";\n      }\n    },\n\n    //切换电影数据\n    toggleMovie(name) {\n      \n      this.$store.commit(\"homeModule/changeData\", {\n        key: \"isactive\",\n        value: name\n      });\n      \n      let params = {\n        apikey: this.apikey\n      };\n      if (name == \"isComing\") {\n        this.isSearch = false;\n        (params.type = \"/coming_soon?\"), (params.count = 50);\n        this.go(params);\n      } else {\n        this.isSearch = true;\n        params.type = \"/in_theaters?\";\n        params.city = this.city;\n        this.go(params);\n      }\n    },\n\n    //查看电影详情\n    movieDetail(id) {\n      this.$router.push({ name: \"Detail\", params: { id } });\n    }\n  }\n};\n</script>\n<style lang=\"less\" scoped>\n.home {\n  /deep/.van-field__label {\n    font-weight: 600;\n  }\n  /deep/.van-image__img {\n    border-radius: 5px;\n  }\n  /deep/.van-image {\n    padding-right: 10px;\n  }\n  /deep/.van-image:last-child {\n    padding-right: 0;\n  }\n  /deep/.van-tab {\n    font-weight: 600;\n  }\n  /deep/.van-tabs__line {\n    background-color: #1a1a1a;\n  }\n  /deep/.van-tab--active {\n    color: #1a1a1a;\n  }\n  /deep/.van-swipe__track {\n    height: 200px;\n  }\n  .header {\n    height: 41px;\n    padding: 5px;\n    border-bottom: 1px #eeeeee solid;\n    background-color: #fff;\n  }\n  .type {\n    border-bottom: 1px #eeeeee solid;\n  }\n  .header-box {\n    width: 100%;\n    position: fixed;\n    top: 0;\n    left: 0;\n    z-index: 999999;\n  }\n\n  .search {\n    width: 100%;\n  }\n\n  .movie {\n    margin-top: 100px;\n    margin-bottom: 70px;\n  }\n  .movie-box {\n    // height: 200px;\n    // background: #ddd;\n\n    padding: 10px;\n    border-bottom: 1px solid #e0e0e0;\n\n    .banner {\n      height: 100px;\n      overflow: hidden;\n      overflow-x: scroll;\n      padding-bottom: 10px;\n    }\n\n    .banner-box {\n      white-space: nowrap;\n      overflow-y: auto;\n    }\n    .movie-top {\n      height: 120px;\n      // background: #ffff;\n      .movie-top-left {\n        width: 270px;\n        padding: 10px 0;\n        border-right: 1px dashed #f9f9f9;\n        .movie-img {\n          width: 70px;\n\n          padding-right: 10px;\n          .movie-pic {\n            width: 70px;\n\n            .movie-pic-img {\n              border-radius: 3px;\n            }\n          }\n        }\n        .movie-info {\n          width: calc(100% - 80px);\n          .movie-name {\n            height: 20px;\n            padding: 0px 0 2px;\n            font-size: 15px;\n            span {\n              overflow: hidden;\n\n              text-overflow: ellipsis;\n\n              display: -webkit-box;\n\n              -webkit-box-orient: vertical;\n\n              -webkit-line-clamp: 1;\n            }\n          }\n          .tag-avatar {\n            height: 43px;\n            font-size: 11px;\n            color: #8d8d8d;\n            padding-bottom: 6px;\n            div {\n              overflow: hidden;\n\n              text-overflow: ellipsis;\n\n              display: -webkit-box;\n\n              -webkit-box-orient: vertical;\n\n              -webkit-line-clamp: 1;\n            }\n          }\n          .look {\n            width: 100px;\n            height: 25px;\n            text-align: center;\n            line-height: 25px;\n            background-color: #eaeaea;\n            border-radius: 3px;\n          }\n        }\n      }\n      .movie-top-right {\n        width: calc(100% - 271px);\n      }\n    }\n    .movie-bottom {\n      height: 50px;\n\n      .movie-bottom-txt {\n        overflow: hidden;\n        color: #8d8d8d;\n        text-overflow: ellipsis;\n        display: -webkit-box;\n        -webkit-box-orient: vertical;\n        -webkit-line-clamp: 3;\n      }\n    }\n  }\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Home.vue?vue&type=template&id=63da657f&scoped=true&\"\nimport script from \"./Home.vue?vue&type=script&lang=js&\"\nexport * from \"./Home.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Home.vue?vue&type=style&index=0&id=63da657f&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"63da657f\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}